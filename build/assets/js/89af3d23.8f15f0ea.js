"use strict";(globalThis.webpackChunkyuribreion_1=globalThis.webpackChunkyuribreion_1||[]).push([[795],{645:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/python-3-afd74acea605ab9c5cb6a4e7dad6fdfc.png"},1688:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"technology/python/python","title":"Initial steps with Python","description":"1. Creating your local environment using Visual Studio Code:","source":"@site/docs/technology/python/python.md","sourceDirName":"technology/python","slug":"/technology/python/","permalink":"/docs/technology/python/","draft":false,"unlisted":false,"editUrl":"https://github.com/yuribreion1/yuribreion1/tree/main/docs/technology/python/python.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"sidebar","previous":{"title":"Python","permalink":"/docs/category/python"},"next":{"title":"Quality and Security","permalink":"/docs/category/quality-and-security"}}');var s=t(4848),i=t(8453);const r={sidebar_position:5},a="Initial steps with Python",l={},c=[];function d(e){const n={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"initial-steps-with-python",children:"Initial steps with Python"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Creating your local environment using ",(0,s.jsx)(n.a,{href:"https://code.visualstudio.com",children:"Visual Studio Code"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Configure Python environment",src:t(6231).A+"",width:"507",height:"363"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Click to create a new virtual environment:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create virtual environment",src:t(7756).A+"",width:"619",height:"197"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Click on Venv:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Click on venv",src:t(645).A+"",width:"625",height:"105"})}),"\n",(0,s.jsx)(n.h1,{id:"applicable-that-fetch-data-from-an-api",children:"Applicable that fetch data from an API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import os\nimport logging\nimport requests\nimport csv\nfrom math import ceil\n\nlogging.basicConfig(level=logging.INFO, format=\'%(asctime)s - %(levelname)s - %(message)s\')\n\nBASE_URL = os.getenv(\'POKEMON_BASE_URL\')\n\ndef fetch_data(base_url):\n    try:\n        response = requests.get(f"{base_url}/pokemon")\n        response.raise_for_status()\n        data = response.json()\n\n        total = data.get(\'count\')\n        if total is None:\n            logging.error("\'total\' property not found in API response.")\n            return []\n\n        logging.info(f"Total records to fetch: {total}")\n        results = []\n\n        limit = 20\n        offset = 20\n\n        total_pages = ceil(total / offset)\n\n        for page in range(1, total_pages +1):\n            paginated_response = requests.get(f"{base_url}/pokemon?offset={offset}&limit={limit}")\n            paginated_response.raise_for_status()\n            logging.info(f"Fetching items {offset} from page {page} of {total} - URL: {paginated_response.url}")\n            paginated_data = paginated_response.json()\n            if (offset > total):\n                offset = limit\n            else:\n                offset = offset + limit\n            results.extend(paginated_data.get(\'results\', [])) \n\n        logging.info(f"Fetched a total of {len(results)} records.")\n        return results\n\n    except requests.exceptions.RequestException as e:\n        logging.error(f"An error occurred while fetching data: {e}")\n        return []\n\ndef save_to_csv(results, output_file=\'results.csv\'):\n    if not results:\n        logging.warning("No results to write to CSV.")\n        return\n\n    try:\n        headers = results[0].keys()\n\n        with open(output_file, mode=\'w\', newline=\'\', encoding=\'utf-8\') as file:\n            writer = csv.DictWriter(file, fieldnames=headers)\n            writer.writeheader()\n            writer.writerows(results)\n\n        logging.info(f"Results saved to {output_file}")\n    except Exception as e:\n        logging.error(f"An error occurred while saving to CSV: {e}")\n\nif __name__ == "__main__":\n    results = fetch_data(BASE_URL)\n    \n    save_to_csv(results)\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},6231:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/python-1-f7fd34b53f3b1547d66d1022b15ae990.png"},7756:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/python-2-cf51d7a3881e6f676b1bb453917a75b6.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(6540);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);